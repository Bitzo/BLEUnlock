# BLEUnlock

BLEUnlockはiPhone, Apple Watchやその他のBluetooth Low EnergyデバイスでMacをロック・アンロックする小さなメニューバーユーティリティーです。


## 特徴

- iPhoneアプリは必要ありません
- 定期的に信号を送出するBLEデバイスなら何でも使えます
- デバイスがMacの近くにあればMacのロック画面を自動的に解除します - もうパスワードを入力する必要はありません
- デバイスがMacから離れると画面をロックします
- デバイスがMacに近づくと画面スリープを解除します (オプション)
- デバイスがMacから離れる/近づくとiTunesの再生を一時停止/再生します (オプション)
- パスワードはキーチェーンに安全に保管されます
- Hardened Runtimeを使いAppleによる公証を受けています ![](https://i.imgur.com/8AbtXEp.png)

## 必要なもの

- Bluetooth Low EnergyをサポートするMac
- macOS 10.13 (High Sierra) 以上
- iPhone 5s以上, Apple Watch (すべて), または定期的に信号を送信するBLEデバイス

## インストール

[Releases](https://github.com/ts1/BLEUnlock/releases)からzipファイルをダウンロードし、解凍してアプリケーションフォルダにコピーします。

最初の起動であなたのログインパスワードを聞いてきます。
これはロック画面を解除するために必要です。
キーチェーンに保管されるため安全です。

次にアクセシビリティの許可を求めてきます。
システム環境設定の画面でロックアイコンをクリックしてアンロックし、BLEUnlockをオンにしてください。
これもロック画面を解除するために必要です。

最後に、メニューバーアイコンから "デバイス" を選択してください。
近くにあるBLEデバイスのスキャンが始まります。
使いたいデバイスを選べば完了です。

## トラブルシューティング

ロック解除に失敗する場合、"システム環境設定" → "セキュリティとプライバシー" →
"プライバシー" → "アクセシビリティ" でBLEUnlockがオンになっているか確認してください。
すでにオンになっている場合、一度オフにしてもう一度オンにしてみてください。

もしBLEUnlock自身のパスワードにアクセスする許可を求められた場合、"常に許可" してください。ロック画面中に必要になるためです。

もし "信号がありません" が頻発する場合、MacのBluetoothを一度オフにしてからオンにしてみてください。
もしくはより頻繁に信号を送出するデバイスを使ってください。

### ロック解除に時間がかかる場合

短い答え: iPhoneのスリープを解除してください。

バージョン1.4.1から、BLEUnlockはシステムスリープ中Bluetoothがパワーオフしたとき (システムスリープから15〜30秒後)、デバイスが離れたと仮定するようになりました。
これはセキュリティのために必要です。
結果として、スリープ解除後、ロック解除されるまで最大で数秒かかるようになりました。

これはデバイスとのコネクションが切れ、デバイスが信号を送ってくるのを待っているためです。
デバイス側もスリープ中は信号送出の間隔が長いので、デバイスのスリープを解除すれば、大抵の場合すぐに信号が送られ、ロック解除されます。

## クレジット

アイコンはmaterialdesignicons.comからダウンロードしたlock-open.svgをもとにしています。これはGoogleによってデザインされApache License version 2.0でライセンスされています。

## ライセンス

MIT

Copyright © 2019 Takeshi Sone.
